#!/bin/sh
# Resolve all dependencies that the application requires to run.

# Stop on errors
set -e

ROOT="$( cd "$( dirname "$(readlink -f "$0")" )/.." >/dev/null 2>&1 && pwd )"
cd "${ROOT}"

if [ ! -d "venv" ]; then
    echo "Initializing the virtual environment..."
    /usr/bin/python3 -m venv venv
    source venv/bin/activate
fi

echo "Updating PIP..."
/usr/bin/python3 -m pip install --upgrade pip

echo "Installing development dependencies..."
pip3 install colorlog pre-commit $(grep mypy requirements-dev.txt)
